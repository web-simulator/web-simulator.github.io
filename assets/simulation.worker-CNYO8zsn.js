(function(){"use strict";self.onmessage=u=>{const x=u.data,{despolarização:M,repolarização:g,recuperação:w,inativação:y,gate:A,dt:s,tempo_total:b,v_inicial:z,h_inicial:F,inicio:_,duração:J,amplitude:D,downsamplingFactor:I}=x,a=parseInt(b/s,10),o=new Array(a),n=new Array(a),i=new Array(a);n[0]=z,i[0]=F,o[0]=0;for(let t=1;t<a;t++){o[t]=t*s;const d=o[t];let f=0;d>=_&&d<_+J&&(f=D);const e=n[t-1],r=i[t-1],j=r*e**2*(1-e)/M,k=-e/g,q=j+k+f,B=e+q*s;let c,l;e<A?(c=1/w,l=0):(c=0,l=1/y);const p=c+l;let h;if(p>0){const v=c/p,C=Math.exp(-p*s);h=v+(r-v)*C}else h=r;n[t]=Math.max(0,Math.min(1,B)),i[t]=Math.max(0,Math.min(1,h))}const m=[];for(let t=0;t<a;t+=I)m.push({tempo:o[t].toFixed(2),v:n[t],h:i[t]});self.postMessage(m)}})();
